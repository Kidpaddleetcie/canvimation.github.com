<html>
   <head>
      <style>
         #screen
         {
            position:absolute;
            height:100px;
            width:200px;
            clip:rect(0px,202px,102px,0px);
            border:black 1px solid;
         }
      </style>

      <script type="text/javascript" src = "canvimation_functions.js" ></script>
      <!--[IF IE]><script type="text/javascript" src = "excanvas.js" ></script><![endif]-->
      <script type="text/javascript">
         ieb=navigator.appName=="Microsoft Internet Explorer";
         var scenes = {}
         var sprites = {}
         var tracks = {}
         var frames = {}

         if(typeof String.prototype.trim !== "function")
         {
            String.prototype.trim = function()
            {
               return this.replace(/^s+|s+$/g, ""); 
            }
         }
         
         if(!Array.indexOf)
         {
            Array.prototype.indexOf = function(obj)
            {
               for(var i=0; i<this.length; i++)
               {
                  if(this[i]==obj)
                  {
                     return i;
                  }
               }
               return -1;
            }
         }
         
         function $(id)
         {
            return document.getElementById(id);
         }

         film =
         {
            name:"Film2",
            list:[
               ["SP","Sprite2",0,"ever",0,"ever",0,false]
            ]
         }

//Film Element Sprite2**********************************************
         cars=[]
         
   //scene frame start..................................
         
         frames["shape2"] =
         {
            id:"shape2",
            parent:"filmdivSprite2",
            path:["closed","shape","square",["M",588,209,],["L",615,209,],["L",615,236,],["L",588,236,],["L",588,209,]],
            width:1338,
            height:519,
            bleft:588,
            btop:209,
            bwidth:27,
            bheight:27,
            scleft:588,
            sctop:209,
            scx:1,
            scy:1,
            sox:0,
            soy:0,
            ox:0,
            oy:0,
            cx:0,
            cy:0,
            rr:100,
            phi:0,
            rotated:false,
            ratio:1,
            strokeStyle:[0,0,0,1],
            fillStyle:[255,255,255,1],
            lineWidth:1,
            lineCap:"butt",
            lineJoin:"miter",
            justfill:true,
            linearfill:true,
            lineGrad:[0,0,0,0],
            radGrad:[10,10,0,10,20,10],
            colorStops:[[0,0,0,0,0],[1,0,0,0,0]],
            stopn:0,
            shadow:false,
            shadowOffsetX:15,
            shadowOffsetY:15,
            shadowBlur:0,
            shadowColor:[0,0,0,0],
            ScaleX:1,
            ScaleY:1,
            zIndex:10000004,
            rotate:0,
            clockw:true,
            complete:false,
            beztypes:[],
            radius:10
         }
         var frame=frames["shape2"];
         cars.push(frame)
         
   //scene frame end..................................
         
         scenes["Scenery2"] = 
         {
            name:"Scenery2",
            cars:cars
         }
         
   //track frame start..................................
         
         frames["edit7"] =
         {
            id:"edit7",
            parent:"filmdivSprite2",
            path:["open","edit","curve",["M",593,271,],["B",599,257,622.4607754655523,245.25361758723525,635,246,],["B",647.5392245344477,246.74638241276475,659.1893530864211,278.64951772268114,677,276,],["B",694.8106469135789,273.35048227731886,725,230,756,228,]],
            width:1338,
            height:519,
            bleft:593,
            btop:228,
            bwidth:163,
            bheight:48.1562947941448,
            scleft:593,
            sctop:228,
            scx:1,
            scy:1,
            sox:0,
            soy:0,
            ox:0,
            oy:0,
            cx:0,
            cy:0,
            rr:100,
            phi:0,
            rotated:false,
            ratio:1,
            strokeStyle:[0,0,0,1],
            fillStyle:[255,255,255,1],
            lineWidth:1,
            lineCap:"butt",
            lineJoin:"miter",
            justfill:true,
            linearfill:true,
            lineGrad:[0,0,0,0],
            radGrad:[10,10,0,10,20,10],
            colorStops:[[0,0,0,0,0],[1,0,0,0,0]],
            stopn:0,
            shadow:false,
            shadowOffsetX:15,
            shadowOffsetY:15,
            shadowBlur:0,
            shadowColor:[0,0,0,0],
            ScaleX:1,
            ScaleY:1,
            zIndex:10000027,
            rotate:0,
            clockw:true,
            complete:true,
            beztypes:["corner","smooth","smooth","corner"],
            radius:10
         }
         var frame=frames["edit7"];
         
   //track frame end..................................
         
         tracks["Track2"] = 
         {
            name:"Track2",
            line:frame,
            repeats:"c",
            visible:true,
            yoyo:false
         }
         
         sprites["Sprite2"] =
         {
            name:"Sprite2",
            engine:"scene",
            ptime:5,
            pointer:1,
            points:[
               {x:593,y:271,phi:5.117280766669773},
               {x:593.7915395106747,y:269.34605925277884,phi:5.198495603207736},
               {x:594.7331182293185,y:267.7150602959828,phi:5.271827755639443},
               {x:595.8146607842514,y:266.11110791066636,phi:5.338085312446301},
               {x:597.0260918037942,y:264.5383068778845,phi:5.398134971841753},
               {x:598.357335916267,y:263.0007619786916,phi:5.4528274277565965},
               {x:599.79831774999,y:261.5025779941425,phi:5.502958443324383},
               {x:601.3389619332838,y:260.0478597052917,phi:5.549253221314524},
               {x:602.9691930944689,y:258.64071189319407,phi:5.59236467368109},
               {x:604.6789358618655,y:257.28523933890415,phi:5.632879319609693},
               {x:606.4581148637942,y:255.98554682347662,phi:5.671326991248793},
               {x:608.2966547285749,y:254.74573912796612,phi:5.70819221331152},
               {x:610.1844800845283,y:253.5699210334273,phi:5.743926206065416},
               {x:612.1115155599747,y:252.46219732091484,phi:5.778959133503173},
               {x:614.0676857832347,y:251.42667277148342,phi:5.813712636786103},
               {x:616.042915382628,y:250.4674521661877,phi:5.848612968806068},
               {x:618.0271289864759,y:249.58864028608235,phi:5.884105253094613},
               {x:620.0102512230982,y:248.79434191222208,phi:5.920669576655742},
               {x:621.9822067208153,y:248.08866182566146,phi:5.958839818425441},
               {x:623.9329201079477,y:247.47570480745517,phi:5.999226318072593},
               {x:625.8523160128157,y:246.9595756386579,phi:6.042543673240775},
               {x:627.7303190637397,y:246.5443791003243,phi:6.089645012841007},
               {x:629.5568538890402,y:246.23421997350908,phi:6.141563765028047},
               {x:631.3218451170372,y:246.03320303926682,phi:6.199562614075826},
               {x:633.0152173760516,y:245.9454330786523,phi:6.265185718393434},
               {x:634.6268952944034,y:245.97501487272007,phi:0.05711644741600968},
               {x:636.0032934378926,y:246.07311542140175,phi:0.14330106019198166},
               {x:637.3242524056473,y:246.3818796968585,phi:0.31018712345696114},
               {x:638.648331563374,y:246.91425087831533,phi:0.4481845514247041},
               {x:639.9773034709252,y:247.65073080740203,phi:0.5583451116805039},
               {x:641.3129406881525,y:248.571821325748,phi:0.6445637177053293},
               {x:642.6570157749074,y:249.6580242749828,phi:0.7112158034507717},
               {x:644.0113012910424,y:250.88984149673615,phi:0.7621314324825416},
               {x:645.377569796409,y:252.24777483263753,phi:0.8003364247446471},
               {x:646.7575938508592,y:253.71232612431646,phi:0.8281022504591283},
               {x:648.1531460142447,y:255.2639972134026,phi:0.8470795413509334},
               {x:649.5659988464172,y:256.8832899415252,phi:0.8584294099062963},
               {x:650.997924907229,y:258.55070615031434,phi:0.8629279431806989},
               {x:652.4506967565317,y:260.2467476813992,phi:0.8610415818075761},
               {x:653.9260869541771,y:261.95191637640943,phi:0.8529776236470336},
               {x:655.4258680600173,y:263.6467140769747,phi:0.8387150657118373},
               {x:656.951812633904,y:265.31164262472447,phi:0.8180205091690611},
               {x:658.5056932356889,y:266.92720386128826,phi:0.7904535112636162},
               {x:660.0892824252243,y:268.4738996282957,phi:0.7553663710314525},
               {x:661.7043527623615,y:269.9322317673765,phi:0.711905577419002},
               {x:663.3526768069528,y:271.2827021201599,phi:0.6590268816367825},
               {x:665.0360271188499,y:272.5058125282758,phi:0.5955440063928307},
               {x:666.7561762579046,y:273.58206483335346,phi:0.5202420449320843},
               {x:668.5148967839688,y:274.4919608770226,phi:0.4320960555296517},
               {x:670.3139612568945,y:275.21600250091285,phi:0.3306288423882231},
               {x:672.1551422365333,y:275.73469154665366,phi:0.21639195340162456},
               {x:674.0402122827372,y:276.02852985587464,phi:0.09143705052301306},
               {x:675.9709439553582,y:276.0780192702053,phi:6.242686375431449},
               {x:677.5163454223375,y:275.89760691268265,phi:6.066987261246539},
               {x:678.6265481794427,y:275.60639662743415,phi:5.989018833509215},
               {x:679.7728581774454,y:275.2154174691313,phi:5.922298881856839},
               {x:680.9544904763261,y:274.72921087645835,phi:5.8653764980935135},
               {x:682.1706601360648,y:274.1523182880995,phi:5.816859812824781},
               {x:683.4205822166423,y:273.48928114273906,phi:5.775505286379521},
               {x:684.7034717780392,y:272.7446408790615,phi:5.7402447066418025},
               {x:686.018543880236,y:271.9229389357509,phi:5.710180597308918},
               {x:687.365013583213,y:271.02871675149163,phi:5.684568129686469},
               {x:688.7420959469508,y:270.0665157649681,phi:5.66279308799698},
               {x:690.1490060314302,y:269.04087741486455,phi:5.644350422761538},
               {x:691.584958896631,y:267.95634313986517,phi:5.628825236442433},
               {x:693.049169602534,y:266.8174543786542,phi:5.6158767074870015},
               {x:694.54085320912,y:265.62875256991623,phi:5.6052248505196705},
               {x:696.0592247763692,y:264.3947791523353,phi:5.596639773672836},
               {x:697.6034993642621,y:263.12007556459577,phi:5.589933035613744},
               {x:699.1728920327793,y:261.8091832453819,phi:5.584950724968492},
               {x:700.7666178419012,y:260.4666436333781,phi:5.581567934250218},
               {x:702.3838918516082,y:259.0969981672685,phi:5.57968435595625},
               {x:704.023929121881,y:257.70478828573744,phi:5.579220780285183},
               {x:705.6859447127,y:256.29455542746933,phi:5.580116318413113},
               {x:707.3691536840457,y:254.8708410311484,phi:5.58232621186819},
               {x:709.0727710958985,y:253.43818653545884,phi:5.585820117884579},
               {x:710.796012008239,y:252.001133379085,phi:5.590580783725255},
               {x:712.5380914810479,y:250.56422300071137,phi:5.59660304088127},
               {x:714.2982245743056,y:249.13199683902198,phi:5.603893063688925},
               {x:716.0756263479919,y:247.70899633270116,phi:5.6124678469691185},
               {x:717.8695118620885,y:246.29976292043335,phi:5.622354864299066},
               {x:719.6790961765746,y:244.90883804090265,phi:5.633591872796177},
               {x:721.5035943514318,y:243.54076313279353,phi:5.646226831966109},
               {x:723.3422214466401,y:242.2000796347902,phi:5.660317903209146},
               {x:725.1941925221797,y:240.89132898557693,phi:5.67593349279467},
               {x:727.0587226380318,y:239.61905262383806,phi:5.693152294154458},
               {x:728.9350268541763,y:238.38779198825785,phi:5.71206327473607},
               {x:730.822320230594,y:237.20208851752062,phi:5.732765537842894},
               {x:732.7198178272652,y:236.0664836503106,phi:5.755367970333519},
               {x:734.6267347041705,y:234.98551882531223,phi:5.779988562429118},
               {x:736.5422859212904,y:233.96373548120965,phi:5.806753256367787},
               {x:738.4656865386054,y:233.0056750566872,phi:5.835794147451071},
               {x:740.396151616096,y:232.11587899042922,phi:5.86724682711609},
               {x:742.3328962137426,y:231.29888872111997,phi:5.901246628786731},
               {x:744.2751353915259,y:230.5592456874437,phi:5.937923523168809},
               {x:746.2220842094259,y:229.90149132808477,phi:5.977395425282433},
               {x:748.1729577274237,y:229.33016708172744,phi:6.0197597414219395},
               {x:750.1269710054995,y:228.849814387056,phi:6.065083125192442},
               {x:752.0833391036339,y:228.46497468275476,phi:6.1133896519370206},
               {x:754.0412770818072,y:228.18018940750798,phi:6.164647973584944},
               {x:756,y:228,phi:6.218758467754033},
            ],
            vec:false,
            vector:
            {
               xs:588,
               xe:688,
               ys:236,
               ye:236,
               psi:0
            },
            train:scenes["Scenery2"],
            track:tracks["Track2"],
         }

         sprite=sprites["Sprite2"];
         sprite.cars = sprite.train.cars;

         function startfilm()
         {
            $("screen").style.left=0; // change to move screen position
            $("screen").style.top=0; // change to move screen position
            for (var i=0; i<film.list.length; i++)
            {
               filmdiv = document.createElement("div");
               filmdiv.id = "filmdiv"+film.list[i][1];
               filmdiv.style.position = "absolute";
               filmdiv.style.left = 0;
               filmdiv.style.top = 0;
               filmdiv.style.zIndex = film.list[i][6];
               $("screen").appendChild(filmdiv);
            }
            for (var fr in frames)
            {
               frame = frames[fr];
               canvas = document.createElement("canvas");
               canvas.style.position="absolute";
               canvas.style.top=-204;
               canvas.style.left=-583;
               canvas.width = frame.width;
               canvas.height = frame.height;
               canvas.style.zIndex = frame.zIndex;
               $(frame.parent).appendChild(canvas);
               if (ieb) {canvas=G_vmlCanvasManager.initElement(canvas)}
               if (canvas.getContext)
               {
                  canvas.ctx = canvas.getContext("2d");
                  canvas.ctx.scale(1,1);
               }
               frame.ctx=canvas.ctx;
               canvas.frame=frame;
            }
            showfilm();
         }
      </script>
   </head>

   <body onload="startfilm()">
      <div id="screen"></div>
   </body>
</html>