<html>
   <head>
      <style>
         #screen
         {
            position:absolute;
            height:100px;
            width:200px;
            clip:rect(0px,202px,102px,0px);
            border:black 1px solid;
         }
      </style>

      <script type="text/javascript" src = "canvimation_functions.js" ></script>
      <!--[IF IE]><script type="text/javascript" src = "excanvas.js" ></script><![endif]-->
      <script type="text/javascript">
         ieb=navigator.appName=="Microsoft Internet Explorer";
         var scenes = {}
         var sprites = {}
         var tracks = {}
         var frames = {}

         if(typeof String.prototype.trim !== "function")
         {
            String.prototype.trim = function()
            {
               return this.replace(/^s+|s+$/g, ""); 
            }
         }
         
         if(!Array.indexOf)
         {
            Array.prototype.indexOf = function(obj)
            {
               for(var i=0; i<this.length; i++)
               {
                  if(this[i]==obj)
                  {
                     return i;
                  }
               }
               return -1;
            }
         }
         
         function $(id)
         {
            return document.getElementById(id);
         }

         film =
         {
            name:"Film2",
            list:[
               ["SP","Sprite1",0,"ever",0,"ever",0,0,0,false]
            ]
         }

//Film Element Sprite1**********************************************
         cars=[]
         
   //scene frame start..................................
         
         frames["shape1"] =
         {
            id:"shape1",
            parent:"filmdivSprite1",
            path:["closed","shape","square",["M",549,227,],["L",575,227,],["L",575,253,],["L",549,253,],["L",549,227,]],
            width:1254,
            height:552,
            bleft:549,
            btop:227,
            bwidth:26,
            bheight:26,
            scleft:549,
            sctop:227,
            scx:1,
            scy:1,
            sox:0,
            soy:0,
            ox:0,
            oy:0,
            cx:0,
            cy:0,
            rr:100,
            phi:0,
            rotated:false,
            ratio:1,
            strokeStyle:[0,0,0,1],
            fillStyle:[255,255,255,1],
            lineWidth:1,
            lineCap:"butt",
            lineJoin:"miter",
            justfill:true,
            linearfill:true,
            lineGrad:[0,0,0,0],
            radGrad:[10,10,0,10,20,10],
            colorStops:[[0,0,0,0,0],[1,0,0,0,0]],
            stopn:0,
            shadow:false,
            shadowOffsetX:15,
            shadowOffsetY:15,
            shadowBlur:0,
            shadowColor:[0,0,0,0],
            ScaleX:1,
            ScaleY:1,
            zIndex:10000002,
            rotate:0,
            clockw:true,
            complete:false,
            beztypes:[],
            radius:10
         }
         var frame=frames["shape1"];
         cars.push(frame)
         
   //scene frame end..................................
         
         scenes["Box"] = 
         {
            name:"Box",
            cars:cars
         }
         
   //track frame start..................................
         
         frames["edit3"] =
         {
            id:"edit3",
            parent:"filmdivSprite1",
            path:["open","edit","curve",["M",550,308,],["B",565,292,584.1850523097025,284.138149476903,598,284,],["B",611.8149476902975,283.861850523097,633.3169584847276,308.23071617735616,650,307,],["B",666.6830415152724,305.76928382264384,695,281,720,275,]],
            width:1254,
            height:552,
            bleft:550,
            btop:275,
            bwidth:170,
            bheight:33,
            scleft:550,
            sctop:275,
            scx:1,
            scy:1,
            sox:0,
            soy:0,
            ox:0,
            oy:0,
            cx:0,
            cy:0,
            rr:100,
            phi:0,
            rotated:false,
            ratio:1,
            strokeStyle:[0,0,0,1],
            fillStyle:[255,255,255,1],
            lineWidth:1,
            lineCap:"butt",
            lineJoin:"miter",
            justfill:true,
            linearfill:true,
            lineGrad:[0,0,0,0],
            radGrad:[10,10,0,10,20,10],
            colorStops:[[0,0,0,0,0],[1,0,0,0,0]],
            stopn:0,
            shadow:false,
            shadowOffsetX:15,
            shadowOffsetY:15,
            shadowBlur:0,
            shadowColor:[0,0,0,0],
            ScaleX:1,
            ScaleY:1,
            zIndex:10000019,
            rotate:0,
            clockw:true,
            complete:true,
            beztypes:["corner","smooth","smooth","corner"],
            radius:10
         }
         var frame=frames["edit3"];
         
   //track frame end..................................
         
         tracks["Track1"] = 
         {
            name:"Track1",
            line:frame,
            repeats:0,
            visible:true,
            yoyo:true
         }
         
         sprites["Sprite1"] =
         {
            name:"Sprite1",
            engine:"scene",
            ptime:5,
            pointer:1,
            points:[
               {x:550,y:308,phi:5.465540261346884},
               {x:551.587430660567,y:306.351304620251,phi:5.492186756451385},
               {x:553.2018851839493,y:304.76127116561594,phi:5.5186426569026175},
               {x:554.8410564704063,y:303.22989963609496,phi:5.544922976501468},
               {x:556.5026374201957,y:301.75719003168786,phi:5.57104556312952},
               {x:558.184320933577,y:300.34314235239503,phi:5.5970311111309075},
               {x:559.8837999108084,y:298.9877565982161,phi:5.622903191239801},
               {x:561.5987672521487,y:297.69103276915126,phi:5.6486883018740714},
               {x:563.3269158578563,y:296.45297086520026,phi:5.674415945596767},
               {x:565.0659386281899,y:295.27357088636336,phi:5.700118734578512},
               {x:566.8135284634083,y:294.1528328326405,phi:5.725832528980772},
               {x:568.5673782637701,y:293.0907567040317,phi:5.751596612324309},
               {x:570.3251809295339,y:292.08734250053703,phi:5.777453908104797},
               {x:572.0846293609579,y:291.1425902221561,phi:5.803451242159102},
               {x:573.8434164583015,y:290.25649986888936,phi:5.829639655551737},
               {x:575.5992351218229,y:289.42907144073666,phi:5.8560747730108655},
               {x:577.3497782517807,y:288.66030493769796,phi:5.882817232148314},
               {x:579.0927387484337,y:287.95020035977325,phi:5.9099331787752405},
               {x:580.8258095120405,y:287.29875770696253,phi:5.937494833466111},
               {x:582.5466834428596,y:286.7059769792659,phi:5.965581133968892},
               {x:584.2530534411495,y:286.17185817668326,phi:5.9942784568790595},
               {x:585.9426124071692,y:285.69640129921464,phi:6.0236814198580815},
               {x:587.6130532411773,y:285.2796063468601,phi:6.053893762113867},
               {x:589.2620688434323,y:284.9214733196195,phi:6.085029295212074},
               {x:590.8873521141927,y:284.6220022174929,phi:6.1172129076390505},
               {x:592.4865959537173,y:284.3811930404804,phi:6.150581593645697},
               {x:594.0574932622649,y:284.1990457885819,phi:6.185285458109076},
               {x:595.5977369400937,y:284.0755604617974,phi:6.221488622317242},
               {x:597.1050198874626,y:284.0107370601269,phi:6.259369918075596},
               {x:598.5116689824818,y:283.9740643177582,phi:6.258052963768495},
               {x:599.8467212386104,y:284.0217037130515,phi:0.09239957579853354},
               {x:601.2361235409869,y:284.2229029093248,phi:0.19137845564055278},
               {x:602.6768782855066,y:284.56652794847895,phi:0.2735184930909608},
               {x:604.1659878680668,y:285.0414448724154,phi:0.3411159616773928},
               {x:605.7004546845635,y:285.6365197230351,phi:0.39645902336790856},
               {x:607.2772811308938,y:286.34061854223955,phi:0.44156712631574746},
               {x:608.8934696029535,y:287.1426073719296,phi:0.47811715576252445},
               {x:610.5460224966395,y:288.0313522540067,phi:0.5074556420682655},
               {x:612.2319422078481,y:288.995719230372,phi:0.5306420033468743},
               {x:613.9482311324755,y:290.02457434292654,phi:0.5484971318383419},
               {x:615.6918916664185,y:291.10678363357164,phi:0.5616470586692974},
               {x:617.4599262055738,y:292.23121314420854,phi:0.5705586138884957},
               {x:619.2493371458376,y:293.38672891673843,phi:0.5755669811815443},
               {x:621.0571268831061,y:294.5621969930623,phi:0.5768960781726794},
               {x:622.8802978132762,y:295.7464834150815,phi:0.5746728906592845},
               {x:624.7158523322441,y:296.92845422469725,phi:0.5689367713305906},
               {x:626.5607928359067,y:298.0969754638107,phi:0.5596445105570305},
               {x:628.4121217201599,y:299.24091317432294,phi:0.5466717995112036},
               {x:630.2668413809007,y:300.3491333981354,phi:0.5298115850248003},
               {x:632.1219542140252,y:301.4105021771491,phi:0.5087698032923968},
               {x:633.9744626154301,y:302.4138855532653,phi:0.48315913503403624},
               {x:635.8213689810116,y:303.3481495683851,phi:0.45249184628639016},
               {x:637.6596757066665,y:304.2021602644098,phi:0.4161736254399479},
               {x:639.486385188291,y:304.9647836832405,phi:0.373501832191649},
               {x:641.2984998217819,y:305.6248858667785,phi:0.32367402404773665},
               {x:643.0930220030355,y:306.17133285692495,phi:0.2658162232395997},
               {x:644.866954127948,y:306.592990695581,phi:0.19904483840886925},
               {x:646.6172985924163,y:306.87872542464794,phi:0.12257975527684015},
               {x:648.3410577923368,y:307.01740308602683,phi:0.03592427531049616},
               {x:650.0245696449365,y:306.9969127974945,phi:6.157549120600169},
               {x:651.2185898630482,y:306.8103943350709,phi:6.100684512910152},
               {x:652.4574548632522,y:306.5489814002391,phi:6.051310478343971},
               {x:653.7396869607545,y:306.2161508983963,phi:6.008454447533401},
               {x:655.063808470761,y:305.8153797349401,phi:5.971244847720546},
               {x:656.428341708478,y:305.3501448152681,phi:5.93892277254115},
               {x:657.8318089891113,y:304.82392304477736,phi:5.910838754211359},
               {x:659.2727326278672,y:304.2401913288656,phi:5.886442654020816},
               {x:660.7496349399521,y:303.6024265729303,phi:5.865271183510707},
               {x:662.2610382405716,y:302.9141056823686,phi:5.846935394969303},
               {x:663.805464844932,y:302.1787055625783,phi:5.831109225136371},
               {x:665.3814370682393,y:301.3997031189565,phi:5.817519493716985},
               {x:666.9874772256996,y:300.5805752569009,phi:5.805937410487304},
               {x:668.6221076325194,y:299.7247988818086,phi:5.796171483306279},
               {x:670.2838506039039,y:298.83585089907746,phi:5.7880616572141514},
               {x:671.97122845506,y:297.91720821410456,phi:5.781474502890821},
               {x:673.6827635011934,y:296.9723477322876,phi:5.776299284256151},
               {x:675.4169780575103,y:296.00474635902367,phi:5.772444755787027},
               {x:677.1723944392168,y:295.01788099971066,phi:5.769836563082465},
               {x:678.9475349615191,y:294.01522855974565,phi:5.768415141993869},
               {x:680.7409219396229,y:293.0002659445263,phi:5.768134030900702},
               {x:682.5510776887347,y:291.9764700594498,phi:5.768958527096739},
               {x:684.3765245240606,y:290.9473178099139,phi:5.77086463186951},
               {x:686.2157847608063,y:289.91628610131573,phi:5.773838240003227},
               {x:688.0673807141783,y:288.8868518390529,phi:5.7778745384577315},
               {x:689.9298346993826,y:287.8624919285228,phi:5.782977586193198},
               {x:691.801669031625,y:286.84668327512287,phi:5.789160052788426},
               {x:693.6814060261117,y:285.84290278425055,phi:5.796443097836036},
               {x:695.5675679980492,y:284.8546273613033,phi:5.804856376211955},
               {x:697.458677262643,y:283.88533391167846,phi:5.814438156248715},
               {x:699.3532561350996,y:282.93849934077355,phi:5.825235538543986},
               {x:701.249826930625,y:282.017600553986,phi:5.837304762458491},
               {x:703.1469119644253,y:281.1261144567132,phi:5.850711585036936},
               {x:705.0430335517065,y:280.2675179543527,phi:5.8655317127209585},
               {x:706.9367140076745,y:279.4452879523017,phi:5.881851259253722},
               {x:708.8264756475357,y:278.6629013559579,phi:5.899767192859595},
               {x:710.7108407864962,y:277.92383507071855,phi:5.91938772118368},
               {x:712.588331739762,y:277.2315660019812,phi:5.940832542484818},
               {x:714.4574708225392,y:276.5895710551432,phi:5.9642328649819065},
               {x:716.3167803500338,y:276.0013271356021,phi:5.989731061934741},
               {x:718.164782637452,y:275.4703111487552,phi:6.017479787334871},
               {x:720,y:275,phi:6.047640326458723},
               {x:720,y:275,phi:6.047640326458723},
               {x:718.164782637452,y:275.4703111487552,phi:6.017479787334871},
               {x:716.3167803500338,y:276.0013271356021,phi:5.989731061934741},
               {x:714.4574708225392,y:276.5895710551432,phi:5.9642328649819065},
               {x:712.588331739762,y:277.2315660019812,phi:5.940832542484818},
               {x:710.7108407864962,y:277.92383507071855,phi:5.91938772118368},
               {x:708.8264756475357,y:278.6629013559579,phi:5.899767192859595},
               {x:706.9367140076745,y:279.4452879523017,phi:5.881851259253722},
               {x:705.0430335517065,y:280.2675179543527,phi:5.8655317127209585},
               {x:703.1469119644253,y:281.1261144567132,phi:5.850711585036936},
               {x:701.249826930625,y:282.017600553986,phi:5.837304762458491},
               {x:699.3532561350996,y:282.93849934077355,phi:5.825235538543986},
               {x:697.458677262643,y:283.88533391167846,phi:5.814438156248715},
               {x:695.5675679980492,y:284.8546273613033,phi:5.804856376211955},
               {x:693.6814060261117,y:285.84290278425055,phi:5.796443097836036},
               {x:691.801669031625,y:286.84668327512287,phi:5.789160052788426},
               {x:689.9298346993826,y:287.8624919285228,phi:5.782977586193198},
               {x:688.0673807141783,y:288.8868518390529,phi:5.7778745384577315},
               {x:686.2157847608063,y:289.91628610131573,phi:5.773838240003227},
               {x:684.3765245240606,y:290.9473178099139,phi:5.77086463186951},
               {x:682.5510776887347,y:291.9764700594498,phi:5.768958527096739},
               {x:680.7409219396229,y:293.0002659445263,phi:5.768134030900702},
               {x:678.9475349615191,y:294.01522855974565,phi:5.768415141993869},
               {x:677.1723944392168,y:295.01788099971066,phi:5.769836563082465},
               {x:675.4169780575103,y:296.00474635902367,phi:5.772444755787027},
               {x:673.6827635011934,y:296.9723477322876,phi:5.776299284256151},
               {x:671.97122845506,y:297.91720821410456,phi:5.781474502890821},
               {x:670.2838506039039,y:298.83585089907746,phi:5.7880616572141514},
               {x:668.6221076325194,y:299.7247988818086,phi:5.796171483306279},
               {x:666.9874772256996,y:300.5805752569009,phi:5.805937410487304},
               {x:665.3814370682393,y:301.3997031189565,phi:5.817519493716985},
               {x:663.805464844932,y:302.1787055625783,phi:5.831109225136371},
               {x:662.2610382405716,y:302.9141056823686,phi:5.846935394969303},
               {x:660.7496349399521,y:303.6024265729303,phi:5.865271183510707},
               {x:659.2727326278672,y:304.2401913288656,phi:5.886442654020816},
               {x:657.8318089891113,y:304.82392304477736,phi:5.910838754211359},
               {x:656.428341708478,y:305.3501448152681,phi:5.93892277254115},
               {x:655.063808470761,y:305.8153797349401,phi:5.971244847720546},
               {x:653.7396869607545,y:306.2161508983963,phi:6.008454447533401},
               {x:652.4574548632522,y:306.5489814002391,phi:6.051310478343971},
               {x:651.2185898630482,y:306.8103943350709,phi:6.100684512910152},
               {x:650.0245696449365,y:306.9969127974945,phi:6.157549120600169},
               {x:648.3410577923368,y:307.01740308602683,phi:0.03592427531049616},
               {x:646.6172985924163,y:306.87872542464794,phi:0.12257975527684015},
               {x:644.866954127948,y:306.592990695581,phi:0.19904483840886925},
               {x:643.0930220030355,y:306.17133285692495,phi:0.2658162232395997},
               {x:641.2984998217819,y:305.6248858667785,phi:0.32367402404773665},
               {x:639.486385188291,y:304.9647836832405,phi:0.373501832191649},
               {x:637.6596757066665,y:304.2021602644098,phi:0.4161736254399479},
               {x:635.8213689810116,y:303.3481495683851,phi:0.45249184628639016},
               {x:633.9744626154301,y:302.4138855532653,phi:0.48315913503403624},
               {x:632.1219542140252,y:301.4105021771491,phi:0.5087698032923968},
               {x:630.2668413809007,y:300.3491333981354,phi:0.5298115850248003},
               {x:628.4121217201599,y:299.24091317432294,phi:0.5466717995112036},
               {x:626.5607928359067,y:298.0969754638107,phi:0.5596445105570305},
               {x:624.7158523322441,y:296.92845422469725,phi:0.5689367713305906},
               {x:622.8802978132762,y:295.7464834150815,phi:0.5746728906592845},
               {x:621.0571268831061,y:294.5621969930623,phi:0.5768960781726794},
               {x:619.2493371458376,y:293.38672891673843,phi:0.5755669811815443},
               {x:617.4599262055738,y:292.23121314420854,phi:0.5705586138884957},
               {x:615.6918916664185,y:291.10678363357164,phi:0.5616470586692974},
               {x:613.9482311324755,y:290.02457434292654,phi:0.5484971318383419},
               {x:612.2319422078481,y:288.995719230372,phi:0.5306420033468743},
               {x:610.5460224966395,y:288.0313522540067,phi:0.5074556420682655},
               {x:608.8934696029535,y:287.1426073719296,phi:0.47811715576252445},
               {x:607.2772811308938,y:286.34061854223955,phi:0.44156712631574746},
               {x:605.7004546845635,y:285.6365197230351,phi:0.39645902336790856},
               {x:604.1659878680668,y:285.0414448724154,phi:0.3411159616773928},
               {x:602.6768782855066,y:284.56652794847895,phi:0.2735184930909608},
               {x:601.2361235409869,y:284.2229029093248,phi:0.19137845564055278},
               {x:599.8467212386104,y:284.0217037130515,phi:0.09239957579853354},
               {x:598.5116689824818,y:283.9740643177582,phi:6.258052963768495},
               {x:597.1050198874626,y:284.0107370601269,phi:6.259369918075596},
               {x:595.5977369400937,y:284.0755604617974,phi:6.221488622317242},
               {x:594.0574932622649,y:284.1990457885819,phi:6.185285458109076},
               {x:592.4865959537173,y:284.3811930404804,phi:6.150581593645697},
               {x:590.8873521141927,y:284.6220022174929,phi:6.1172129076390505},
               {x:589.2620688434323,y:284.9214733196195,phi:6.085029295212074},
               {x:587.6130532411773,y:285.2796063468601,phi:6.053893762113867},
               {x:585.9426124071692,y:285.69640129921464,phi:6.0236814198580815},
               {x:584.2530534411495,y:286.17185817668326,phi:5.9942784568790595},
               {x:582.5466834428596,y:286.7059769792659,phi:5.965581133968892},
               {x:580.8258095120405,y:287.29875770696253,phi:5.937494833466111},
               {x:579.0927387484337,y:287.95020035977325,phi:5.9099331787752405},
               {x:577.3497782517807,y:288.66030493769796,phi:5.882817232148314},
               {x:575.5992351218229,y:289.42907144073666,phi:5.8560747730108655},
               {x:573.8434164583015,y:290.25649986888936,phi:5.829639655551737},
               {x:572.0846293609579,y:291.1425902221561,phi:5.803451242159102},
               {x:570.3251809295339,y:292.08734250053703,phi:5.777453908104797},
               {x:568.5673782637701,y:293.0907567040317,phi:5.751596612324309},
               {x:566.8135284634083,y:294.1528328326405,phi:5.725832528980772},
               {x:565.0659386281899,y:295.27357088636336,phi:5.700118734578512},
               {x:563.3269158578563,y:296.45297086520026,phi:5.674415945596767},
               {x:561.5987672521487,y:297.69103276915126,phi:5.6486883018740714},
               {x:559.8837999108084,y:298.9877565982161,phi:5.622903191239801},
               {x:558.184320933577,y:300.34314235239503,phi:5.5970311111309075},
               {x:556.5026374201957,y:301.75719003168786,phi:5.57104556312952},
               {x:554.8410564704063,y:303.22989963609496,phi:5.544922976501468},
               {x:553.2018851839493,y:304.76127116561594,phi:5.5186426569026175},
               {x:551.587430660567,y:306.351304620251,phi:5.492186756451385},
               {x:550,y:308,phi:5.465540261346884},
            ],
            vec:true,
            vector:
            {
               xs:548,
               xe:648,
               ys:253,
               ye:253,
               psi:0
            },
            train:scenes["Box"],
            track:tracks["Track1"],
         }

         sprite=sprites["Sprite1"];
         sprite.cars = sprite.train.cars;

         function startfilm()
         {
            $("screen").style.left=0; // change to move screen position
            $("screen").style.top=0; // change to move screen position
            for (var i=0; i<film.list.length; i++)
            {
               filmdiv = document.createElement("div");
               filmdiv.id = "filmdiv"+film.list[i][1];
               filmdiv.style.position = "absolute";
               filmdiv.style.left = 0;
               filmdiv.style.top = 0;
               filmdiv.style.zIndex = film.list[i][6];
               $("screen").appendChild(filmdiv);
            }
            for (var fr in frames)
            {
               frame = frames[fr];
               canvas = document.createElement("canvas");
               canvas.style.position="absolute";
               canvas.style.top=-220;
               canvas.style.left=-540;
               canvas.width = frame.width;
               canvas.height = frame.height;
               canvas.style.zIndex = frame.zIndex;
               $(frame.parent).appendChild(canvas);
               if (ieb) {canvas=G_vmlCanvasManager.initElement(canvas)}
               if (canvas.getContext)
               {
                  canvas.ctx = canvas.getContext("2d");
                  canvas.ctx.scale(1,1);
               }
               frame.ctx=canvas.ctx;
               canvas.frame=frame;
            }
            showfilm();
         }
      </script>
   </head>

   <body onload="startfilm()">
      <div id="screen"></div>
   </body>
</html>


